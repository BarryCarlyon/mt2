<div ng-controller="ChatController as chatCtrl" class="wrapper">
  <iframe ng-src="{{chatCtrl.getEmbedUrl()}}" frameborder="0" allowfullscreen="true" scrolling="no" ng-if="!mainCtrl.auth"></iframe>
  <div ng-if="mainCtrl.auth" class="chat-wrapper wrapper" layout="column">
    <div class="chat-header" flex="none" layout="row" layout-align="space-between center">
      <div>
        Ham
      </div>
      <div>
        {{chatCtrl.channel}}
      </div>
      <div>
        status
      </div>
    </div>
    <div class="chat-container column-reverse" layout-align="end stretch" layout="column" flex="100" on-scroll="chatCtrl.onChatScroll($event, $element, scrollPos, direction)">
      <div class="chat-lines column-reverse" layout-align="end stretch" flex="none">
        <div class="chat-line" ng-repeat="line in chatCtrl.getActiveChatLines()" flex="none"></div>
      </div>
    </div>
    <div class="chat-input-box">
      <textarea class="chat-input" ng-keydown="chatCtrl.chatInputKeyPress($event)" ng-model="chatCtrl.chatInputContent" rows=1></textarea>
    </div>
  </div>
</div>
