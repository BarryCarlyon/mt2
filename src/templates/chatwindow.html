<div ng-controller="ChatController as chatCtrl" class="wrapper">
  <iframe ng-src="{{chatCtrl.getEmbedUrl()}}" frameborder="0" allowfullscreen="true" scrolling="no" ng-if="!mainCtrl.auth"></iframe>
  <div ng-if="mainCtrl.auth" class="chat-wrapper wrapper" layout="column">
    <div class="chat-header" flex="none" layout="row" layout-align="space-between center">
      <div>
        Ham
      </div>
      <div>
        {{chatCtrl.channel}}
      </div>
      <div>
        status
      </div>
    </div>
    <div class="chat-container" flex="100" layout="column" layout-align="end stretch">
      <div class="chat-line" ng-repeat="line in chatCtrl.lines">
        <span class="chat-line-timestamp">{{line.time | date}}</span>
        <span class="chat-line-username">{{line.user.name}}</span>
        <span class="chat-line-colon">: </span>
        <span class="chat-line-text" ng-bind-html="line.html"></span>
      </div>
    </div>
    <div class="chat-input-box">
      <md-input-container>
        <textarea class="chat-input">
        </textarea>
      </md-input-container>
    </div>
  </div>
</div>
